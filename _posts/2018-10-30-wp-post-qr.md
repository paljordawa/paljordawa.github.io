---
date:	2018.10.30
title:	Post QR code Generator
categories: Wordpress-Tricks
description: This Instruction will guide you to make QR code Plugins to generate Post URL.

type: Document
---
## Introduction
QR codes are widely used on websites where they generally represent the URL of the website. When someone wants to read the content of your web page on their mobile phone, they can scan the QR code and which opens the URL in a browser instead of manually typing a long URL.

There are several types of QR codes, Model 1, Micro, IQR, SQRC and LogoQ. Model 1 is the most common type of QR code type and it’s the one we’ll be using in our example.


## Creating Dir and Plugin file
In my example I’ll name the plugin ‘qr-code-post’, you can name it anything you wish. You’ll first need to create a directory with plugin name and then a PHP file with the same plugin name.

```
qr-code-post/
	-qr-code-post.php
```
Put this code in the awesome-qr-code.php file:
``` php

<?php
/*
Plugin Name: QR Code Post
Plugin URI: Website link of Plugin
Description: Adds QR Code to WordPress Posts
Version: 1.0
Author: your name
Author URI: http://twitter.com
*/
```
## Including the QR Code Generator Library
Download and unpack[ QR Code Generator](http://www.phpclasses.org/package/6399-PHP-Generate-QR-Code-images-using-Google-Chart-API.html) inside your plugin directory. You will then have a file named `qrcode.php` in your directory.

Now we need to include that file:
```php
include("qrcode.php");
```

## Filter Post Content
Next, we need to add a QR code image to the end of every WordPress post. For that, we need to filter the post content and add HTML to the end of the content.

We can do this using ‘the_content’ filter. The the_content filter is used to filter the content of the post after it is retrieved from the database and before it is printed onto the screen. Note that the filter function must return the content after it is finished processing, or site visitors will see a blank page and other plugins that are also filtering the content may generate errors.

```php
function qr_code($content)
{
	$url = get_permalink();

	$qr = new qrcode();
	$qr->text($url);
	
	$html = "<p><b>QR Code:</b></p><p><img src='".$qr->get_link()."' border='0'/></p>";
	$content .= $html;

	return $content;
}

add_filter("the_content", "qr_code");
```

Let’s breakdown the above code:
1. `qr_code` is the filter function that takes the post content and filters it before the output is produced.
2. `get_permalink` function is used to get the complete URL of the current post.
3. We used the QR code library to generate a QR code image representing the permalink.
4. We added it to the end of the post content.

As you can see, it’s fairly simple if you want to do this yourself. However, you’d most likely only write code to generate a QR code if you are creating a plugin or theme. If you want to integrate QR codes to an existing website, then it would be much easier to install a ready made QR code plugin.
